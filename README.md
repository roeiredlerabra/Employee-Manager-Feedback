# תהליך שאלון שלבים לעובד ומנהל

## תיאור כללי
תהליך זה נועד לאסוף תשובות מעובד ולאחר מכן ממנהל, ובסיום להציג סיכום של התשובות שנאספו. הנתונים מאוחסנים ב-SharePoint List, וכל שלב בתהליך מנוהל באמצעות `ProcessID` ייחודי שמתעדכן בין השלבים. המידע מועבר באמצעות HTTP REQUEST דרך Power Automate.

## מטרת התהליך
1. איסוף תשובות מהעובד.
2. איסוף תשובות מהמנהל לאחר מילוי שאלון העובד.
3. הצגת סיכום לאחר מילוי כל השאלות על ידי העובד והמנהל.
4. מניעת גישה לשאלון של שלב קודם באמצעות שימוש ב-`ProcessID` ייחודי לכל שלב.

---

## שלבים מרכזיים בתהליך

### שלב 1 - מילוי שאלון על ידי עובד
- **תיאור**: העובד מקבל קישור עם `ProcessID` ייחודי לשלב שלו. הוא ממלא את השאלון, והנתונים נשמרים ב-SharePoint.
- **פעולות Power Automate**:
  1. קבלת הנתונים מהעובד ועדכונם ב-SharePoint.
  2. יצירת `ProcessID` חדש עבור השלב הבא.
  3. שליחת הודעת דוא"ל למנהל עם קישור למילוי שאלון המנהל.

#### דוגמה להודעת דוא"ל לעובד
נושא: מילוי שאלון - [שם התהליך]

שלום [שם העובד],

אנא מלא את השאלון בקישור הבא:
[https://yourdomain.com/survey?ProcessID=12345]

בברכה,
[שם החברה]



---

### שלב 2 - מילוי שאלון על ידי מנהל
- **תיאור**: המנהל מקבל קישור עם `ProcessID` חדש לשלב שלו. המנהל ממלא את השאלון, והנתונים נשמרים ב-SharePoint.
- **פעולות Power Automate**:
  1. קבלת הנתונים מהמנהל ועדכונם ב-SharePoint.
  2. יצירת `ProcessID` חדש עבור שלב הסיכום.
  3. שליחת הודעת דוא"ל לאחראי הסיכום עם קישור לסיכום התהליך.

#### דוגמה להודעת דוא"ל למנהל
נושא: מילוי שאלון - שלב מנהל - [שם התהליך]

שלום [שם המנהל],

העובד השלים את השאלון שלו. אנא מלא את השאלון שלך בקישור הבא:
[https://yourdomain.com/survey?ProcessID=67890]

בברכה,
[שם החברה]



---

### שלב 3 - סיכום התשובות
- **תיאור**: אחראי הסיכום מקבל קישור עם `ProcessID` סופי לשלב הסיכום. הוא צופה ומסכם את התשובות שנאספו מהעובד ומהמנהל. 
- **פעולות Power Automate**:
  1. קבלת הסיכום ועדכונו ב-SharePoint.
  2. עדכון סטטוס התהליך ל"הושלם".
  3. שליחת הודעת דוא"ל עם הסיכום למשתמשים הרלוונטיים.

#### דוגמה להודעת דוא"ל לאחראי הסיכום
נושא: סיכום תהליך - [שם התהליך]

שלום [שם האחראי],

העובד והמנהל השלימו את השאלונים. אנא צפה בסיכום התשובות בקישור הבא:
[https://yourdomain.com/survey?ProcessID=ABCDE]

לאחר מילוי הסיכום, תהליך זה יסומן כהושלם.

בברכה,
[שם החברה]



---

## ארכיטקטורת URL
כל קישור מכיל רק את ה-`ProcessID` כפרמטר ב-URL:
- **שלב 1 - לעובד**: `https://yourdomain.com/survey?ProcessID=12345`
- **שלב 2 - למנהל**: `https://yourdomain.com/survey?ProcessID=67890`
- **שלב 3 - סיכום**: `https://yourdomain.com/survey?ProcessID=ABCDE`

---

## מבנה SharePoint
**שדות מרכזיים ב-SharePoint**:
- `ProcessID` - מזהה התהליך (מתעדכן בכל שלב).
- `EmployeeAnswers` - תשובות העובד.
- `ManagerAnswers` - תשובות המנהל.
- `Summary` - סיכום התשובות.
- `Status` - סטטוס התהליך:
  - "ממתין למילוי עובד"
  - "ממתין למילוי מנהל"
  - "סיכום"
  - "הושלם"

---

## המלצות נוספות
- **אימות גישה**: ניתן להשתמש ב-Power Automate לביצוע אימות גישה בהתבסס על `ProcessID`.
- **ניהול הרשאות**: בדוק האם ה-`ProcessID` תקין ומתאים לשלב הנוכחי לפני טעינת השאלון.
- **אבטחת מידע**: ודא שה-`ProcessID` ייחודי לכל תהליך ולא ניתן לשימוש חוזר כדי לשמור על פרטיות המידע.

---
